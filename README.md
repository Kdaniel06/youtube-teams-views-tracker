<h1 align="center"> ‚öΩüìä YouTube Team Views API üìä‚öΩ </h1>

![vscode](https://img.shields.io/badge/Made%20for-VSCode-1f425f.svg)
![python](http://ForTheBadge.com/images/badges/made-with-python.svg)

This project is an API built with FastAPI that allows you to retrieve the views generated by YouTube videos associated with football teams. With this API, you can get a breakdown of the videos related to a specific team or the total views generated by multiple teams at once.

## üöÄ Features
* üìπ Get views for a single team: Returns the total number of views for a team, along with a breakdown of the videos in which it appears and the views for each video.
* üìä Get views for multiple teams: Returns a list with the total views for multiple teams in a single request.

## üõ†Ô∏è Installation
Follow these steps to run the project locally:

1. Clone this repository:
    ```bash
    git clone https://github.com/yourusername/your-repository.git
    ```
    
2. Install the dependencies:
    ```bash
    pip install fastapi uvicorn requests pydantic
    ```
    
3. Configure the YouTube API settings:

   To access YouTube data, you'll need to obtain an API key from the [Google Cloud Console](https://console.cloud.google.com/). Follow these steps to get your API key and configure the project:

    * Step 1: Create a project in Google Cloud Console
       - Go to the [Google Cloud Console](https://console.cloud.google.com/).
       - Click on the "Select a Project" dropdown at the top and click "New Project."
       - Name your project, choose a billing account (if required), and create the project.

   * Step 2: Enable the YouTube Data API v3
       - Once your project is created, go to the **APIs & Services** dashboard.
       - Click on "Enable APIs and Services" at the top.
       - Search for "YouTube Data API v3" and enable it for your project.

   * Step 3: Generate an API key
       - In the **APIs & Services** dashboard, go to the **Credentials** tab.
       - Click "Create Credentials" and select "API Key."
       - A new API key will be generated. Copy this key and store it securely, as you'll need it to authenticate your requests.

   * Step 4: Find your YouTube Channel ID
       - Go to your [YouTube Studio](https://studio.youtube.com/).
       - Click on "Settings" in the left sidebar.
       - Under "Channel," go to the "Advanced Settings" tab.
       - Your **Channel ID** will be displayed under **Channel Information**. Copy this value.

   * Step 5: Create the `api_settings.py` file
       - In the root directory of your project, create a file called `api_settings.py`.
       - Add your YouTube API key and channel ID as follows:

         ```python
         YT_API_KEY = 'YOUR_API_KEY'
         YT_CHANEL_ID = 'YOUR_CHANNEL_ID'
         ```

   - Replace `'YOUR_API_KEY'` with the API key you generated in Step 3.
   - Replace `'YOUR_CHANNEL_ID'` with your YouTube Channel ID from Step 4.

        ```python
        YT_API_KEY = 'YOUR_API_KEY'
        YT_CHANEL_ID = 'YOUR_CHANNEL_ID'
        ```
    
4. Run the FastAPI server:
    ```bash
    uvicorn main:app --reload
    ```
    
## üì§ Endpoints

### 1. Get views for a single team  ü•á 

* **Endpoint**: /single-team-views/
* **Method**: POST
* Example body:
    ```json
    {"name": "Imperial crew"}
    ```
    
* Example response:
    ```json
    {
      "team": "Imperial crew",
      "total_views": 5000,
      "videos": [
        {
          "title": "Imperial Crew vs Team A - Highlights",
          "views": 2000
        },
        {
          "title": "Imperial Crew - Best Goals",
          "views": 3000
        }
      ]
    }
    ```
    
## 2. Get views for multiple teams üë•
    
* **Endpoint**: /teams-views/
* **Method**: POST
* Example body:
    ```json
    [
      {"name": "Imperial crew"},
      {"name": "San Francisco Academia"},
      {"name": "Invu FC"},
      {"name": "Cedros Crew"},
      {"name": "Aston Rios PC"},
      {"name": "Barcola"}
    ]
    ```
    
* Example response:
    ```json
    [
      {"team": "Imperial crew", "total_views": 5000},
      {"team": "San Francisco Academia", "total_views": 3000},
      {"team": "Invu FC", "total_views": 4500},
      {"team": "Cedros Crew", "total_views": 2500},
      {"team": "Aston Rios PC", "total_views": 3500},
      {"team": "Barcola", "total_views": 4000}
    ]
    ```
    
## üõ†Ô∏è How It Works
* **Team views**: The API searches the YouTube channel's videos for those whose title includes the team's name and then sums up the views for those videos.
* **Multiple teams views**: For each team in the list, the API performs the same search for videos and returns the total views generated by each team.

## üí° Future Improvements
* Add support for more video statistics (e.g., likes, comments).
* Advanced filtering by video publish date.
* Search by matchdays.

## üìÑ Author
This project was created by **Daniel Cascante**